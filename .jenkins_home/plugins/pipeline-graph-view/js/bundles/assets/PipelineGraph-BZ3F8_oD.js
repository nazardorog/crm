(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".pgv-node__counter-tooltip{display:flex;flex-direction:column;list-style-type:none;padding:0;margin:0;margin:-.15rem -.5rem}.pgv-node__counter-tooltip li{display:contents}.pgv-node__counter-tooltip a{justify-content:start;gap:.5rem;color:var(--text-color);text-decoration:none;min-height:0;padding:.25rem 1rem .25rem .35rem;border-radius:.45rem;font-size:var(--font-size-xs)}.pgv-node__counter-tooltip a svg{width:1.375rem;height:1.375rem}.pgv-node-tooltip{display:flex;flex-direction:column;text-align:center;gap:1px}.pgv-node-tooltip div:last-of-type{color:var(--text-color-secondary);text-wrap:nowrap}.pgv-status-icon{flex-shrink:0}.pgv-status-icon *{transition:var(--elastic-transition);transform-origin:center}.pgv-status-icon .pgv-scale{animation:pulseScale 2s both ease-in-out infinite;opacity:.25}@keyframes pulseScale{50%{scale:2.25;opacity:1}}.jenkins-\\!-skipped-color{--color: var(--text-color-secondary);color:var(--color)}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var nr=Object.defineProperty;var rr=(e,t,n)=>t in e?nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Kt=(e,t,n)=>rr(e,typeof t!="symbol"?t+"":t,n);import{f as Ln,R as F,r as B,h as or,i as ir,H as Tt,j as d,b as Ht,d as Jt}from"./PipelineGraphModel-CgYOIdva.js";async function ar(e,t,n,r,o=3e3){let i=!1;async function a(){try{const c=await Ln(r);e({stages:c.stages,complete:c.complete}),i=c.complete}catch(c){t(c)}finally{i?n():setTimeout(()=>a(),o)}}a()}class sr{constructor(t){Kt(this,"stagesLookup");this.stagesLookup=new Map(t.map(n=>[n.name,n]))}estimateCompletion(t){switch(t.state){case F.success:case F.unstable:case F.failure:case F.unknown:case F.aborted:case F.skipped:case F.not_built:return 100;case F.running:case F.paused:{const n=this.stagesLookup.get(t.name);if(n===void 0)return 0;const r=n.totalDurationMillis,o=t.totalDurationMillis;return r<=o?99:o/r*100}default:return 0}}}const Tn=(e,t)=>{const n=An(e),r=new sr(n),o=t.map(p=>{const u=n.find(m=>m.name===p.name);return{...u??{},...p,skeleton:!1,completePercent:r.estimateCompletion(p),children:Tn((u==null?void 0:u.children)??[],p.children??[])}});if(o.length===0)return n;const i=new Map;if(n.forEach((p,u)=>i.set(p.name,u)),t.some(p=>!i.has(p.name)))return o;const c=t.reduce((p,u)=>{const m=i.get(u.name)??-1;return m>p?m:p},-1),l=n.filter(p=>(i.get(p.name)??1/0)>c&&!t.some(m=>m.name===p.name));return[...o,...l]},An=e=>e.map(t=>({...t,skeleton:!0,completePercent:0,children:An(t.children??[])})),cr=e=>console.log("There was an error when polling the pipeline status",e);function vi({currentRunPath:e,previousRunPath:t}){const[n,r]=B.useState(),[o,i]=B.useState(!0);return B.useEffect(()=>{let a;if(t){let c=null;a=async l=>{i(!1),l.complete?r(l):(c==null&&(c=await Ln(t)),c==null?r(l):r({stages:Tn(c.stages,l.stages),complete:!1}))}}else a=c=>r(c);ar(a,cr,()=>i(!1),e)},[]),{run:n,loading:o}}var X="top",te="bottom",ne="right",q="left",It="auto",it=[X,te,ne,q],Fe="start",nt="end",lr="clippingParents",Mn="viewport",Ke="popper",ur="reference",Qt=it.reduce(function(e,t){return e.concat([t+"-"+Fe,t+"-"+nt])},[]),Pn=[].concat(it,[It]).reduce(function(e,t){return e.concat([t,t+"-"+Fe,t+"-"+nt])},[]),fr="beforeRead",pr="read",dr="afterRead",vr="beforeMain",hr="main",mr="afterMain",gr="beforeWrite",yr="write",br="afterWrite",xr=[fr,pr,dr,vr,hr,mr,gr,yr,br];function pe(e){return e?(e.nodeName||"").toLowerCase():null}function J(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Be(e){var t=J(e).Element;return e instanceof t||e instanceof Element}function ee(e){var t=J(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ut(e){if(typeof ShadowRoot>"u")return!1;var t=J(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function wr(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!ee(i)||!pe(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(a){var c=o[a];c===!1?i.removeAttribute(a):i.setAttribute(a,c===!0?"":c)}))})}function Or(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=a.reduce(function(l,p){return l[p]="",l},{});!ee(o)||!pe(o)||(Object.assign(o.style,c),Object.keys(i).forEach(function(l){o.removeAttribute(l)}))})}}const Dn={name:"applyStyles",enabled:!0,phase:"write",fn:wr,effect:Or,requires:["computeStyles"]};function fe(e){return e.split("-")[0]}var $e=Math.max,vt=Math.min,Ge=Math.round;function At(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function $n(){return!/^((?!chrome|android).)*safari/i.test(At())}function ze(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&ee(e)&&(o=e.offsetWidth>0&&Ge(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Ge(r.height)/e.offsetHeight||1);var a=Be(e)?J(e):window,c=a.visualViewport,l=!$n()&&n,p=(r.left+(l&&c?c.offsetLeft:0))/o,u=(r.top+(l&&c?c.offsetTop:0))/i,m=r.width/o,y=r.height/i;return{width:m,height:y,top:u,right:p+m,bottom:u+y,left:p,x:p,y:u}}function Vt(e){var t=ze(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Bn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ut(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xe(e){return J(e).getComputedStyle(e)}function Sr(e){return["table","td","th"].indexOf(pe(e))>=0}function je(e){return((Be(e)?e.ownerDocument:e.document)||window.document).documentElement}function bt(e){return pe(e)==="html"?e:e.assignedSlot||e.parentNode||(Ut(e)?e.host:null)||je(e)}function Zt(e){return!ee(e)||xe(e).position==="fixed"?null:e.offsetParent}function kr(e){var t=/firefox/i.test(At()),n=/Trident/i.test(At());if(n&&ee(e)){var r=xe(e);if(r.position==="fixed")return null}var o=bt(e);for(Ut(o)&&(o=o.host);ee(o)&&["html","body"].indexOf(pe(o))<0;){var i=xe(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function at(e){for(var t=J(e),n=Zt(e);n&&Sr(n)&&xe(n).position==="static";)n=Zt(n);return n&&(pe(n)==="html"||pe(n)==="body"&&xe(n).position==="static")?t:n||kr(e)||t}function _t(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ze(e,t,n){return $e(e,vt(t,n))}function Er(e,t,n){var r=Ze(e,t,n);return r>n?n:r}function Rn(){return{top:0,right:0,bottom:0,left:0}}function Wn(e){return Object.assign({},Rn(),e)}function Nn(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var jr=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Wn(typeof t!="number"?t:Nn(t,it))};function Cr(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,c=fe(n.placement),l=_t(c),p=[q,ne].indexOf(c)>=0,u=p?"height":"width";if(!(!i||!a)){var m=jr(o.padding,n),y=Vt(i),v=l==="y"?X:q,S=l==="y"?te:ne,h=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],b=a[l]-n.rects.reference[l],w=at(i),A=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,C=h/2-b/2,s=m[v],L=A-y[u]-m[S],g=A/2-y[u]/2+C,P=Ze(s,g,L),D=l;n.modifiersData[r]=(t={},t[D]=P,t.centerOffset=P-g,t)}}function Lr(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Bn(t.elements.popper,o)&&(t.elements.arrow=o))}const Tr={name:"arrow",enabled:!0,phase:"main",fn:Cr,effect:Lr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xe(e){return e.split("-")[1]}var Ar={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mr(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Ge(n*o)/o||0,y:Ge(r*o)/o||0}}function en(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,c=e.position,l=e.gpuAcceleration,p=e.adaptive,u=e.roundOffsets,m=e.isFixed,y=a.x,v=y===void 0?0:y,S=a.y,h=S===void 0?0:S,b=typeof u=="function"?u({x:v,y:h}):{x:v,y:h};v=b.x,h=b.y;var w=a.hasOwnProperty("x"),A=a.hasOwnProperty("y"),C=q,s=X,L=window;if(p){var g=at(n),P="clientHeight",D="clientWidth";if(g===J(n)&&(g=je(n),xe(g).position!=="static"&&c==="absolute"&&(P="scrollHeight",D="scrollWidth")),g=g,o===X||(o===q||o===ne)&&i===nt){s=te;var T=m&&g===L&&L.visualViewport?L.visualViewport.height:g[P];h-=T-r.height,h*=l?1:-1}if(o===q||(o===X||o===te)&&i===nt){C=ne;var M=m&&g===L&&L.visualViewport?L.visualViewport.width:g[D];v-=M-r.width,v*=l?1:-1}}var x=Object.assign({position:c},p&&Ar),k=u===!0?Mr({x:v,y:h},J(n)):{x:v,y:h};if(v=k.x,h=k.y,l){var R;return Object.assign({},x,(R={},R[s]=A?"0":"",R[C]=w?"0":"",R.transform=(L.devicePixelRatio||1)<=1?"translate("+v+"px, "+h+"px)":"translate3d("+v+"px, "+h+"px, 0)",R))}return Object.assign({},x,(t={},t[s]=A?h+"px":"",t[C]=w?v+"px":"",t.transform="",t))}function Pr(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,c=n.roundOffsets,l=c===void 0?!0:c,p={placement:fe(t.placement),variation:Xe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,en(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,en(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Dr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Pr,data:{}};var ut={passive:!0};function $r(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,a=r.resize,c=a===void 0?!0:a,l=J(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&p.forEach(function(u){u.addEventListener("scroll",n.update,ut)}),c&&l.addEventListener("resize",n.update,ut),function(){i&&p.forEach(function(u){u.removeEventListener("scroll",n.update,ut)}),c&&l.removeEventListener("resize",n.update,ut)}}const Br={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$r,data:{}};var Rr={left:"right",right:"left",bottom:"top",top:"bottom"};function dt(e){return e.replace(/left|right|bottom|top/g,function(t){return Rr[t]})}var Wr={start:"end",end:"start"};function tn(e){return e.replace(/start|end/g,function(t){return Wr[t]})}function Ft(e){var t=J(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Gt(e){return ze(je(e)).left+Ft(e).scrollLeft}function Nr(e,t){var n=J(e),r=je(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,c=0,l=0;if(o){i=o.width,a=o.height;var p=$n();(p||!p&&t==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:c+Gt(e),y:l}}function Hr(e){var t,n=je(e),r=Ft(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=$e(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=$e(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-r.scrollLeft+Gt(e),l=-r.scrollTop;return xe(o||n).direction==="rtl"&&(c+=$e(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:c,y:l}}function zt(e){var t=xe(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Hn(e){return["html","body","#document"].indexOf(pe(e))>=0?e.ownerDocument.body:ee(e)&&zt(e)?e:Hn(bt(e))}function et(e,t){var n;t===void 0&&(t=[]);var r=Hn(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=J(r),a=o?[i].concat(i.visualViewport||[],zt(r)?r:[]):r,c=t.concat(a);return o?c:c.concat(et(bt(a)))}function Mt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ir(e,t){var n=ze(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function nn(e,t,n){return t===Mn?Mt(Nr(e,n)):Be(t)?Ir(t,n):Mt(Hr(je(e)))}function Ur(e){var t=et(bt(e)),n=["absolute","fixed"].indexOf(xe(e).position)>=0,r=n&&ee(e)?at(e):e;return Be(r)?t.filter(function(o){return Be(o)&&Bn(o,r)&&pe(o)!=="body"}):[]}function Vr(e,t,n,r){var o=t==="clippingParents"?Ur(e):[].concat(t),i=[].concat(o,[n]),a=i[0],c=i.reduce(function(l,p){var u=nn(e,p,r);return l.top=$e(u.top,l.top),l.right=vt(u.right,l.right),l.bottom=vt(u.bottom,l.bottom),l.left=$e(u.left,l.left),l},nn(e,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function In(e){var t=e.reference,n=e.element,r=e.placement,o=r?fe(r):null,i=r?Xe(r):null,a=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,l;switch(o){case X:l={x:a,y:t.y-n.height};break;case te:l={x:a,y:t.y+t.height};break;case ne:l={x:t.x+t.width,y:c};break;case q:l={x:t.x-n.width,y:c};break;default:l={x:t.x,y:t.y}}var p=o?_t(o):null;if(p!=null){var u=p==="y"?"height":"width";switch(i){case Fe:l[p]=l[p]-(t[u]/2-n[u]/2);break;case nt:l[p]=l[p]+(t[u]/2-n[u]/2);break}}return l}function rt(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,a=i===void 0?e.strategy:i,c=n.boundary,l=c===void 0?lr:c,p=n.rootBoundary,u=p===void 0?Mn:p,m=n.elementContext,y=m===void 0?Ke:m,v=n.altBoundary,S=v===void 0?!1:v,h=n.padding,b=h===void 0?0:h,w=Wn(typeof b!="number"?b:Nn(b,it)),A=y===Ke?ur:Ke,C=e.rects.popper,s=e.elements[S?A:y],L=Vr(Be(s)?s:s.contextElement||je(e.elements.popper),l,u,a),g=ze(e.elements.reference),P=In({reference:g,element:C,placement:o}),D=Mt(Object.assign({},C,P)),T=y===Ke?D:g,M={top:L.top-T.top+w.top,bottom:T.bottom-L.bottom+w.bottom,left:L.left-T.left+w.left,right:T.right-L.right+w.right},x=e.modifiersData.offset;if(y===Ke&&x){var k=x[o];Object.keys(M).forEach(function(R){var W=[ne,te].indexOf(R)>=0?1:-1,E=[X,te].indexOf(R)>=0?"y":"x";M[R]+=k[E]*W})}return M}function _r(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,c=n.flipVariations,l=n.allowedAutoPlacements,p=l===void 0?Pn:l,u=Xe(r),m=u?c?Qt:Qt.filter(function(S){return Xe(S)===u}):it,y=m.filter(function(S){return p.indexOf(S)>=0});y.length===0&&(y=m);var v=y.reduce(function(S,h){return S[h]=rt(e,{placement:h,boundary:o,rootBoundary:i,padding:a})[fe(h)],S},{});return Object.keys(v).sort(function(S,h){return v[S]-v[h]})}function Fr(e){if(fe(e)===It)return[];var t=dt(e);return[tn(e),t,tn(t)]}function Gr(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,c=a===void 0?!0:a,l=n.fallbackPlacements,p=n.padding,u=n.boundary,m=n.rootBoundary,y=n.altBoundary,v=n.flipVariations,S=v===void 0?!0:v,h=n.allowedAutoPlacements,b=t.options.placement,w=fe(b),A=w===b,C=l||(A||!S?[dt(b)]:Fr(b)),s=[b].concat(C).reduce(function(Y,K){return Y.concat(fe(K)===It?_r(t,{placement:K,boundary:u,rootBoundary:m,padding:p,flipVariations:S,allowedAutoPlacements:h}):K)},[]),L=t.rects.reference,g=t.rects.popper,P=new Map,D=!0,T=s[0],M=0;M<s.length;M++){var x=s[M],k=fe(x),R=Xe(x)===Fe,W=[X,te].indexOf(k)>=0,E=W?"width":"height",U=rt(t,{placement:x,boundary:u,rootBoundary:m,altBoundary:y,padding:p}),V=W?R?ne:q:R?te:X;L[E]>g[E]&&(V=dt(V));var H=dt(V),_=[];if(i&&_.push(U[k]<=0),c&&_.push(U[V]<=0,U[H]<=0),_.every(function(Y){return Y})){T=x,D=!1;break}P.set(x,_)}if(D)for(var I=S?3:1,de=function(K){var oe=s.find(function(we){var ie=P.get(we);if(ie)return ie.slice(0,K).every(function(ve){return ve})});if(oe)return T=oe,"break"},Q=I;Q>0;Q--){var re=de(Q);if(re==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}const zr={name:"flip",enabled:!0,phase:"main",fn:Gr,requiresIfExists:["offset"],data:{_skip:!1}};function rn(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function on(e){return[X,ne,te,q].some(function(t){return e[t]>=0})}function Xr(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=rt(t,{elementContext:"reference"}),c=rt(t,{altBoundary:!0}),l=rn(a,r),p=rn(c,o,i),u=on(l),m=on(p);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:p,isReferenceHidden:u,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":m})}const qr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Xr};function Yr(e,t,n){var r=fe(e),o=[q,X].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],c=i[1];return a=a||0,c=(c||0)*o,[q,ne].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function Kr(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,a=Pn.reduce(function(u,m){return u[m]=Yr(m,t.rects,i),u},{}),c=a[t.placement],l=c.x,p=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=p),t.modifiersData[r]=a}const Jr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kr};function Qr(e){var t=e.state,n=e.name;t.modifiersData[n]=In({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Zr={name:"popperOffsets",enabled:!0,phase:"read",fn:Qr,data:{}};function eo(e){return e==="x"?"y":"x"}function to(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,c=a===void 0?!1:a,l=n.boundary,p=n.rootBoundary,u=n.altBoundary,m=n.padding,y=n.tether,v=y===void 0?!0:y,S=n.tetherOffset,h=S===void 0?0:S,b=rt(t,{boundary:l,rootBoundary:p,padding:m,altBoundary:u}),w=fe(t.placement),A=Xe(t.placement),C=!A,s=_t(w),L=eo(s),g=t.modifiersData.popperOffsets,P=t.rects.reference,D=t.rects.popper,T=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,M=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(g){if(i){var R,W=s==="y"?X:q,E=s==="y"?te:ne,U=s==="y"?"height":"width",V=g[s],H=V+b[W],_=V-b[E],I=v?-D[U]/2:0,de=A===Fe?P[U]:D[U],Q=A===Fe?-D[U]:-P[U],re=t.elements.arrow,Y=v&&re?Vt(re):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Rn(),oe=K[W],we=K[E],ie=Ze(0,P[U],Y[U]),ve=C?P[U]/2-I-ie-oe-M.mainAxis:de-ie-oe-M.mainAxis,ae=C?-P[U]/2+I+ie+we+M.mainAxis:Q+ie+we+M.mainAxis,Oe=t.elements.arrow&&at(t.elements.arrow),Re=Oe?s==="y"?Oe.clientTop||0:Oe.clientLeft||0:0,Se=(R=x==null?void 0:x[s])!=null?R:0,Ce=V+ve-Se-Re,We=V+ae-Se,Le=Ze(v?vt(H,Ce):H,V,v?$e(_,We):_);g[s]=Le,k[s]=Le-V}if(c){var he,ke=s==="x"?X:q,Ne=s==="x"?te:ne,se=g[L],le=L==="y"?"height":"width",Te=se+b[ke],me=se-b[Ne],Ae=[X,q].indexOf(w)!==-1,He=(he=x==null?void 0:x[L])!=null?he:0,G=Ae?Te:se-P[le]-D[le]-He+M.altAxis,Ee=Ae?se+P[le]+D[le]-He-M.altAxis:me,ge=v&&Ae?Er(G,se,Ee):Ze(v?G:Te,se,v?Ee:me);g[L]=ge,k[L]=ge-se}t.modifiersData[r]=k}}const no={name:"preventOverflow",enabled:!0,phase:"main",fn:to,requiresIfExists:["offset"]};function ro(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function oo(e){return e===J(e)||!ee(e)?Ft(e):ro(e)}function io(e){var t=e.getBoundingClientRect(),n=Ge(t.width)/e.offsetWidth||1,r=Ge(t.height)/e.offsetHeight||1;return n!==1||r!==1}function ao(e,t,n){n===void 0&&(n=!1);var r=ee(t),o=ee(t)&&io(t),i=je(t),a=ze(e,o,n),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((pe(t)!=="body"||zt(i))&&(c=oo(t)),ee(t)?(l=ze(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=Gt(i))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function so(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(c){if(!n.has(c)){var l=t.get(c);l&&o(l)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function co(e){var t=so(e);return xr.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function lo(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function uo(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var an={placement:"bottom",modifiers:[],strategy:"absolute"};function sn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function fo(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?an:o;return function(c,l,p){p===void 0&&(p=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},an,i),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},m=[],y=!1,v={state:u,setOptions:function(w){var A=typeof w=="function"?w(u.options):w;h(),u.options=Object.assign({},i,u.options,A),u.scrollParents={reference:Be(c)?et(c):c.contextElement?et(c.contextElement):[],popper:et(l)};var C=co(uo([].concat(r,u.options.modifiers)));return u.orderedModifiers=C.filter(function(s){return s.enabled}),S(),v.update()},forceUpdate:function(){if(!y){var w=u.elements,A=w.reference,C=w.popper;if(sn(A,C)){u.rects={reference:ao(A,at(C),u.options.strategy==="fixed"),popper:Vt(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(M){return u.modifiersData[M.name]=Object.assign({},M.data)});for(var s=0;s<u.orderedModifiers.length;s++){if(u.reset===!0){u.reset=!1,s=-1;continue}var L=u.orderedModifiers[s],g=L.fn,P=L.options,D=P===void 0?{}:P,T=L.name;typeof g=="function"&&(u=g({state:u,options:D,name:T,instance:v})||u)}}}},update:lo(function(){return new Promise(function(b){v.forceUpdate(),b(u)})}),destroy:function(){h(),y=!0}};if(!sn(c,l))return v;v.setOptions(p).then(function(b){!y&&p.onFirstUpdate&&p.onFirstUpdate(b)});function S(){u.orderedModifiers.forEach(function(b){var w=b.name,A=b.options,C=A===void 0?{}:A,s=b.effect;if(typeof s=="function"){var L=s({state:u,name:w,instance:v,options:C}),g=function(){};m.push(L||g)}})}function h(){m.forEach(function(b){return b()}),m=[]}return v}}var po=[Br,Zr,Dr,Dn,Jr,zr,no,Tr,qr],vo=fo({defaultModifiers:po}),ho="tippy-box",Un="tippy-content",mo="tippy-backdrop",Vn="tippy-arrow",_n="tippy-svg-arrow",De={passive:!0,capture:!0},Fn=function(){return document.body};function kt(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function Xt(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function Gn(e,t){return typeof e=="function"?e.apply(void 0,t):e}function cn(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function go(e){return e.split(/\s+/).filter(Boolean)}function _e(e){return[].concat(e)}function ln(e,t){e.indexOf(t)===-1&&e.push(t)}function yo(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function bo(e){return e.split("-")[0]}function ht(e){return[].slice.call(e)}function un(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function tt(){return document.createElement("div")}function xt(e){return["Element","Fragment"].some(function(t){return Xt(e,t)})}function xo(e){return Xt(e,"NodeList")}function wo(e){return Xt(e,"MouseEvent")}function Oo(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function So(e){return xt(e)?[e]:xo(e)?ht(e):Array.isArray(e)?e:ht(document.querySelectorAll(e))}function Et(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function fn(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function ko(e){var t,n=_e(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function Eo(e,t){var n=t.clientX,r=t.clientY;return e.every(function(o){var i=o.popperRect,a=o.popperState,c=o.props,l=c.interactiveBorder,p=bo(a.placement),u=a.modifiersData.offset;if(!u)return!0;var m=p==="bottom"?u.top.y:0,y=p==="top"?u.bottom.y:0,v=p==="right"?u.left.x:0,S=p==="left"?u.right.x:0,h=i.top-r+m>l,b=r-i.bottom-y>l,w=i.left-n+v>l,A=n-i.right-S>l;return h||b||w||A})}function jt(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){e[r](o,n)})}function pn(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var ue={isTouch:!1},dn=0;function jo(){ue.isTouch||(ue.isTouch=!0,window.performance&&document.addEventListener("mousemove",zn))}function zn(){var e=performance.now();e-dn<20&&(ue.isTouch=!1,document.removeEventListener("mousemove",zn)),dn=e}function Co(){var e=document.activeElement;if(Oo(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Lo(){document.addEventListener("touchstart",jo,De),window.addEventListener("blur",Co)}var To=typeof window<"u"&&typeof document<"u",Ao=To?!!window.msCrypto:!1,Mo={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Po={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ce=Object.assign({appendTo:Fn,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Mo,Po),Do=Object.keys(ce),$o=function(t){var n=Object.keys(t);n.forEach(function(r){ce[r]=t[r]})};function Xn(e){var t=e.plugins||[],n=t.reduce(function(r,o){var i=o.name,a=o.defaultValue;if(i){var c;r[i]=e[i]!==void 0?e[i]:(c=ce[i])!=null?c:a}return r},{});return Object.assign({},e,n)}function Bo(e,t){var n=t?Object.keys(Xn(Object.assign({},ce,{plugins:t}))):Do,r=n.reduce(function(o,i){var a=(e.getAttribute("data-tippy-"+i)||"").trim();if(!a)return o;if(i==="content")o[i]=a;else try{o[i]=JSON.parse(a)}catch{o[i]=a}return o},{});return r}function vn(e,t){var n=Object.assign({},t,{content:Gn(t.content,[e])},t.ignoreAttributes?{}:Bo(e,t.plugins));return n.aria=Object.assign({},ce.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var Ro=function(){return"innerHTML"};function Pt(e,t){e[Ro()]=t}function hn(e){var t=tt();return e===!0?t.className=Vn:(t.className=_n,xt(e)?t.appendChild(e):Pt(t,e)),t}function mn(e,t){xt(t.content)?(Pt(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Pt(e,t.content):e.textContent=t.content)}function Dt(e){var t=e.firstElementChild,n=ht(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(Un)}),arrow:n.find(function(r){return r.classList.contains(Vn)||r.classList.contains(_n)}),backdrop:n.find(function(r){return r.classList.contains(mo)})}}function qn(e){var t=tt(),n=tt();n.className=ho,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=tt();r.className=Un,r.setAttribute("data-state","hidden"),mn(r,e.props),t.appendChild(n),n.appendChild(r),o(e.props,e.props);function o(i,a){var c=Dt(t),l=c.box,p=c.content,u=c.arrow;a.theme?l.setAttribute("data-theme",a.theme):l.removeAttribute("data-theme"),typeof a.animation=="string"?l.setAttribute("data-animation",a.animation):l.removeAttribute("data-animation"),a.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?l.setAttribute("role",a.role):l.removeAttribute("role"),(i.content!==a.content||i.allowHTML!==a.allowHTML)&&mn(p,e.props),a.arrow?u?i.arrow!==a.arrow&&(l.removeChild(u),l.appendChild(hn(a.arrow))):l.appendChild(hn(a.arrow)):u&&l.removeChild(u)}return{popper:t,onUpdate:o}}qn.$$tippy=!0;var Wo=1,ft=[],Ct=[];function No(e,t){var n=vn(e,Object.assign({},ce,Xn(un(t)))),r,o,i,a=!1,c=!1,l=!1,p=!1,u,m,y,v=[],S=cn(Ce,n.interactiveDebounce),h,b=Wo++,w=null,A=yo(n.plugins),C={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},s={id:b,reference:e,popper:tt(),popperInstance:w,props:n,state:C,plugins:A,clearDelayTimeouts:G,setProps:Ee,setContent:ge,show:Me,hide:Ie,hideWithInteractivity:qe,enable:Ae,disable:He,unmount:Ye,destroy:wt};if(!n.render)return s;var L=n.render(s),g=L.popper,P=L.onUpdate;g.setAttribute("data-tippy-root",""),g.id="tippy-"+s.id,s.popper=g,e._tippy=s,g._tippy=s;var D=A.map(function(f){return f.fn(s)}),T=e.hasAttribute("aria-expanded");return Oe(),I(),V(),H("onCreate",[s]),n.showOnCreate&&Te(),g.addEventListener("mouseenter",function(){s.props.interactive&&s.state.isVisible&&s.clearDelayTimeouts()}),g.addEventListener("mouseleave",function(){s.props.interactive&&s.props.trigger.indexOf("mouseenter")>=0&&W().addEventListener("mousemove",S)}),s;function M(){var f=s.props.touch;return Array.isArray(f)?f:[f,0]}function x(){return M()[0]==="hold"}function k(){var f;return!!((f=s.props.render)!=null&&f.$$tippy)}function R(){return h||e}function W(){var f=R().parentNode;return f?ko(f):document}function E(){return Dt(g)}function U(f){return s.state.isMounted&&!s.state.isVisible||ue.isTouch||u&&u.type==="focus"?0:kt(s.props.delay,f?0:1,ce.delay)}function V(f){f===void 0&&(f=!1),g.style.pointerEvents=s.props.interactive&&!f?"":"none",g.style.zIndex=""+s.props.zIndex}function H(f,O,j){if(j===void 0&&(j=!0),D.forEach(function($){$[f]&&$[f].apply($,O)}),j){var N;(N=s.props)[f].apply(N,O)}}function _(){var f=s.props.aria;if(f.content){var O="aria-"+f.content,j=g.id,N=_e(s.props.triggerTarget||e);N.forEach(function($){var z=$.getAttribute(O);if(s.state.isVisible)$.setAttribute(O,z?z+" "+j:j);else{var Z=z&&z.replace(j,"").trim();Z?$.setAttribute(O,Z):$.removeAttribute(O)}})}}function I(){if(!(T||!s.props.aria.expanded)){var f=_e(s.props.triggerTarget||e);f.forEach(function(O){s.props.interactive?O.setAttribute("aria-expanded",s.state.isVisible&&O===R()?"true":"false"):O.removeAttribute("aria-expanded")})}}function de(){W().removeEventListener("mousemove",S),ft=ft.filter(function(f){return f!==S})}function Q(f){if(!(ue.isTouch&&(l||f.type==="mousedown"))){var O=f.composedPath&&f.composedPath()[0]||f.target;if(!(s.props.interactive&&pn(g,O))){if(_e(s.props.triggerTarget||e).some(function(j){return pn(j,O)})){if(ue.isTouch||s.state.isVisible&&s.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[s,f]);s.props.hideOnClick===!0&&(s.clearDelayTimeouts(),s.hide(),c=!0,setTimeout(function(){c=!1}),s.state.isMounted||oe())}}}function re(){l=!0}function Y(){l=!1}function K(){var f=W();f.addEventListener("mousedown",Q,!0),f.addEventListener("touchend",Q,De),f.addEventListener("touchstart",Y,De),f.addEventListener("touchmove",re,De)}function oe(){var f=W();f.removeEventListener("mousedown",Q,!0),f.removeEventListener("touchend",Q,De),f.removeEventListener("touchstart",Y,De),f.removeEventListener("touchmove",re,De)}function we(f,O){ve(f,function(){!s.state.isVisible&&g.parentNode&&g.parentNode.contains(g)&&O()})}function ie(f,O){ve(f,O)}function ve(f,O){var j=E().box;function N($){$.target===j&&(jt(j,"remove",N),O())}if(f===0)return O();jt(j,"remove",m),jt(j,"add",N),m=N}function ae(f,O,j){j===void 0&&(j=!1);var N=_e(s.props.triggerTarget||e);N.forEach(function($){$.addEventListener(f,O,j),v.push({node:$,eventType:f,handler:O,options:j})})}function Oe(){x()&&(ae("touchstart",Se,{passive:!0}),ae("touchend",We,{passive:!0})),go(s.props.trigger).forEach(function(f){if(f!=="manual")switch(ae(f,Se),f){case"mouseenter":ae("mouseleave",We);break;case"focus":ae(Ao?"focusout":"blur",Le);break;case"focusin":ae("focusout",Le);break}})}function Re(){v.forEach(function(f){var O=f.node,j=f.eventType,N=f.handler,$=f.options;O.removeEventListener(j,N,$)}),v=[]}function Se(f){var O,j=!1;if(!(!s.state.isEnabled||he(f)||c)){var N=((O=u)==null?void 0:O.type)==="focus";u=f,h=f.currentTarget,I(),!s.state.isVisible&&wo(f)&&ft.forEach(function($){return $(f)}),f.type==="click"&&(s.props.trigger.indexOf("mouseenter")<0||a)&&s.props.hideOnClick!==!1&&s.state.isVisible?j=!0:Te(f),f.type==="click"&&(a=!j),j&&!N&&me(f)}}function Ce(f){var O=f.target,j=R().contains(O)||g.contains(O);if(!(f.type==="mousemove"&&j)){var N=le().concat(g).map(function($){var z,Z=$._tippy,Ue=(z=Z.popperInstance)==null?void 0:z.state;return Ue?{popperRect:$.getBoundingClientRect(),popperState:Ue,props:n}:null}).filter(Boolean);Eo(N,f)&&(de(),me(f))}}function We(f){var O=he(f)||s.props.trigger.indexOf("click")>=0&&a;if(!O){if(s.props.interactive){s.hideWithInteractivity(f);return}me(f)}}function Le(f){s.props.trigger.indexOf("focusin")<0&&f.target!==R()||s.props.interactive&&f.relatedTarget&&g.contains(f.relatedTarget)||me(f)}function he(f){return ue.isTouch?x()!==f.type.indexOf("touch")>=0:!1}function ke(){Ne();var f=s.props,O=f.popperOptions,j=f.placement,N=f.offset,$=f.getReferenceClientRect,z=f.moveTransition,Z=k()?Dt(g).arrow:null,Ue=$?{getBoundingClientRect:$,contextElement:$.contextElement||R()}:e,Yt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ct){var Ve=ct.state;if(k()){var tr=E(),St=tr.box;["placement","reference-hidden","escaped"].forEach(function(lt){lt==="placement"?St.setAttribute("data-placement",Ve.placement):Ve.attributes.popper["data-popper-"+lt]?St.setAttribute("data-"+lt,""):St.removeAttribute("data-"+lt)}),Ve.attributes.popper={}}}},Pe=[{name:"offset",options:{offset:N}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!z}},Yt];k()&&Z&&Pe.push({name:"arrow",options:{element:Z,padding:3}}),Pe.push.apply(Pe,(O==null?void 0:O.modifiers)||[]),s.popperInstance=vo(Ue,g,Object.assign({},O,{placement:j,onFirstUpdate:y,modifiers:Pe}))}function Ne(){s.popperInstance&&(s.popperInstance.destroy(),s.popperInstance=null)}function se(){var f=s.props.appendTo,O,j=R();s.props.interactive&&f===Fn||f==="parent"?O=j.parentNode:O=Gn(f,[j]),O.contains(g)||O.appendChild(g),s.state.isMounted=!0,ke()}function le(){return ht(g.querySelectorAll("[data-tippy-root]"))}function Te(f){s.clearDelayTimeouts(),f&&H("onTrigger",[s,f]),K();var O=U(!0),j=M(),N=j[0],$=j[1];ue.isTouch&&N==="hold"&&$&&(O=$),O?r=setTimeout(function(){s.show()},O):s.show()}function me(f){if(s.clearDelayTimeouts(),H("onUntrigger",[s,f]),!s.state.isVisible){oe();return}if(!(s.props.trigger.indexOf("mouseenter")>=0&&s.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(f.type)>=0&&a)){var O=U(!1);O?o=setTimeout(function(){s.state.isVisible&&s.hide()},O):i=requestAnimationFrame(function(){s.hide()})}}function Ae(){s.state.isEnabled=!0}function He(){s.hide(),s.state.isEnabled=!1}function G(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(i)}function Ee(f){if(!s.state.isDestroyed){H("onBeforeUpdate",[s,f]),Re();var O=s.props,j=vn(e,Object.assign({},O,un(f),{ignoreAttributes:!0}));s.props=j,Oe(),O.interactiveDebounce!==j.interactiveDebounce&&(de(),S=cn(Ce,j.interactiveDebounce)),O.triggerTarget&&!j.triggerTarget?_e(O.triggerTarget).forEach(function(N){N.removeAttribute("aria-expanded")}):j.triggerTarget&&e.removeAttribute("aria-expanded"),I(),V(),P&&P(O,j),s.popperInstance&&(ke(),le().forEach(function(N){requestAnimationFrame(N._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[s,f])}}function ge(f){s.setProps({content:f})}function Me(){var f=s.state.isVisible,O=s.state.isDestroyed,j=!s.state.isEnabled,N=ue.isTouch&&!s.props.touch,$=kt(s.props.duration,0,ce.duration);if(!(f||O||j||N)&&!R().hasAttribute("disabled")&&(H("onShow",[s],!1),s.props.onShow(s)!==!1)){if(s.state.isVisible=!0,k()&&(g.style.visibility="visible"),V(),K(),s.state.isMounted||(g.style.transition="none"),k()){var z=E(),Z=z.box,Ue=z.content;Et([Z,Ue],0)}y=function(){var Pe;if(!(!s.state.isVisible||p)){if(p=!0,g.offsetHeight,g.style.transition=s.props.moveTransition,k()&&s.props.animation){var Ot=E(),ct=Ot.box,Ve=Ot.content;Et([ct,Ve],$),fn([ct,Ve],"visible")}_(),I(),ln(Ct,s),(Pe=s.popperInstance)==null||Pe.forceUpdate(),H("onMount",[s]),s.props.animation&&k()&&ie($,function(){s.state.isShown=!0,H("onShown",[s])})}},se()}}function Ie(){var f=!s.state.isVisible,O=s.state.isDestroyed,j=!s.state.isEnabled,N=kt(s.props.duration,1,ce.duration);if(!(f||O||j)&&(H("onHide",[s],!1),s.props.onHide(s)!==!1)){if(s.state.isVisible=!1,s.state.isShown=!1,p=!1,a=!1,k()&&(g.style.visibility="hidden"),de(),oe(),V(!0),k()){var $=E(),z=$.box,Z=$.content;s.props.animation&&(Et([z,Z],N),fn([z,Z],"hidden"))}_(),I(),s.props.animation?k()&&we(N,s.unmount):s.unmount()}}function qe(f){W().addEventListener("mousemove",S),ln(ft,S),S(f)}function Ye(){s.state.isVisible&&s.hide(),s.state.isMounted&&(Ne(),le().forEach(function(f){f._tippy.unmount()}),g.parentNode&&g.parentNode.removeChild(g),Ct=Ct.filter(function(f){return f!==s}),s.state.isMounted=!1,H("onHidden",[s]))}function wt(){s.state.isDestroyed||(s.clearDelayTimeouts(),s.unmount(),Re(),delete e._tippy,s.state.isDestroyed=!0,H("onDestroy",[s]))}}function st(e,t){t===void 0&&(t={});var n=ce.plugins.concat(t.plugins||[]);Lo();var r=Object.assign({},t,{plugins:n}),o=So(e),i=o.reduce(function(a,c){var l=c&&No(c,r);return l&&a.push(l),a},[]);return xt(e)?i[0]:i}st.defaultProps=ce;st.setDefaultProps=$o;st.currentInput=ue;Object.assign({},Dn,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});st.setDefaultProps({render:qn});var Yn=or();const hi=ir(Yn);function Kn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var Jn=typeof window<"u"&&typeof document<"u";function $t(e,t){e&&(typeof e=="function"&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function gn(){return Jn&&document.createElement("div")}function Ho(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}function Qn(e,t){if(e===t)return!0;if(typeof e=="object"&&e!=null&&typeof t=="object"&&t!=null){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(t.hasOwnProperty(n)){if(!Qn(e[n],t[n]))return!1}else return!1;return!0}else return!1}function Io(e){var t=[];return e.forEach(function(n){t.find(function(r){return Qn(n,r)})||t.push(n)}),t}function Uo(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:Io([].concat(((n=e.popperOptions)==null?void 0:n.modifiers)||[],((r=t.popperOptions)==null?void 0:r.modifiers)||[]))})})}var Lt=Jn?B.useLayoutEffect:B.useEffect;function Vo(e){var t=B.useRef();return t.current||(t.current=typeof e=="function"?e():e),t.current}function yn(e,t,n){n.split(/\s+/).forEach(function(r){r&&e.classList[t](r)})}var _o={name:"className",defaultValue:"",fn:function(t){var n=t.popper.firstElementChild,r=function(){var c;return!!((c=t.props.render)!=null&&c.$$tippy)};function o(){t.props.className&&!r()||yn(n,"add",t.props.className)}function i(){r()&&yn(n,"remove",t.props.className)}return{onCreate:o,onBeforeUpdate:i,onAfterUpdate:o}}};function Fo(e){function t(n){var r=n.children,o=n.content,i=n.visible,a=n.singleton,c=n.render,l=n.reference,p=n.disabled,u=p===void 0?!1:p,m=n.ignoreAttributes,y=m===void 0?!0:m;n.__source,n.__self;var v=Kn(n,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),S=i!==void 0,h=a!==void 0,b=B.useState(!1),w=b[0],A=b[1],C=B.useState({}),s=C[0],L=C[1],g=B.useState(),P=g[0],D=g[1],T=Vo(function(){return{container:gn(),renders:1}}),M=Object.assign({ignoreAttributes:y},v,{content:T.container});S&&(M.trigger="manual",M.hideOnClick=!1),h&&(u=!0);var x=M,k=M.plugins||[];c&&(x=Object.assign({},M,{plugins:h&&a.data!=null?[].concat(k,[{fn:function(){return{onTrigger:function(U,V){var H=a.data.children.find(function(_){var I=_.instance;return I.reference===V.currentTarget});U.state.$$activeSingletonInstance=H.instance,D(H.content)}}}}]):k,render:function(){return{popper:T.container}}}));var R=[l].concat(r?[r.type]:[]);return Lt(function(){var W=l;l&&l.hasOwnProperty("current")&&(W=l.current);var E=e(W||T.ref||gn(),Object.assign({},x,{plugins:[_o].concat(M.plugins||[])}));return T.instance=E,u&&E.disable(),i&&E.show(),h&&a.hook({instance:E,content:o,props:x,setSingletonContent:D}),A(!0),function(){E.destroy(),a==null||a.cleanup(E)}},R),Lt(function(){var W;if(T.renders===1){T.renders++;return}var E=T.instance;E.setProps(Uo(E.props,x)),(W=E.popperInstance)==null||W.forceUpdate(),u?E.disable():E.enable(),S&&(i?E.show():E.hide()),h&&a.hook({instance:E,content:o,props:x,setSingletonContent:D})}),Lt(function(){var W;if(c){var E=T.instance;E.setProps({popperOptions:Object.assign({},E.props.popperOptions,{modifiers:[].concat((((W=E.props.popperOptions)==null?void 0:W.modifiers)||[]).filter(function(U){var V=U.name;return V!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(V){var H,_=V.state,I=(H=_.modifiersData)==null?void 0:H.hide;(s.placement!==_.placement||s.referenceHidden!==(I==null?void 0:I.isReferenceHidden)||s.escaped!==(I==null?void 0:I.hasPopperEscaped))&&L({placement:_.placement,referenceHidden:I==null?void 0:I.isReferenceHidden,escaped:I==null?void 0:I.hasPopperEscaped}),_.attributes.popper={}}}])})})}},[s.placement,s.referenceHidden,s.escaped].concat(R)),Tt.createElement(Tt.Fragment,null,r?B.cloneElement(r,{ref:function(E){T.ref=E,$t(r.ref,E)}}):null,w&&Yn.createPortal(c?c(Ho(s),P,T.instance):o,T.container))}return t}var Go=function(e,t){return B.forwardRef(function(r,o){var i=r.children,a=Kn(r,["children"]);return Tt.createElement(e,Object.assign({},t,a),i?B.cloneElement(i,{ref:function(l){$t(o,l),$t(i.ref,l)}}):null)})},zo=Go(Fo(st));function mt(e){return e.content===void 0?e.children:d.jsx(zo,{theme:"tooltip",animation:"tooltip",duration:250,touch:!1,...e,children:e.children})}function Xo(...e){return e.flatMap(t=>typeof t=="string"?t:Object.entries(t).filter(([n,r])=>r).map(([n])=>n)).join(" ")}const ot=80,bn=13;function qo(e,t,n){const r=Yo(e,n),{nodeSpacingH:o,ypStart:i}=t,a={x:0,y:0,name:"Start",id:-1,isPlaceholder:!0,key:"start-node",type:"start"},c={x:0,y:0,name:"End",id:-3,isPlaceholder:!0,key:"end-node",type:"end"},l={x:0,y:0,name:"Counter",id:-2,isPlaceholder:!0,key:"counter-node",type:"counter",stages:[]};function p(w){if(!n)return w;const A=w[0],C=w[w.length-1],s={rows:[[l]],centerX:0,hasBranchLabels:!1,startX:0},L=w.filter(T=>T!==A&&T!==C),g=L.slice(0,bn),P=L.slice(bn),D=[A,...g];return P.length>0&&(s.rows[0][0].stages=P.flatMap(T=>T.rows.flatMap(M=>M.flatMap(x=>x.stage))),D.push(s)),D.push(C),D}const u=p([{rows:[[a]],centerX:0,hasBranchLabels:!1,startX:0},...r,{rows:[[c]],centerX:0,hasBranchLabels:!1,startX:0}]);Ko(u,t);const m=Jo(u,n),y=Qo(u,n),v=Zo(u,n),S=ei(u);let h=0,b=60;for(const w of u)for(const A of w.rows)for(const C of A)h=Math.max(h,C.x+o/2),b=n?60:Math.max(b,C.y+i);return{nodeColumns:u,connections:S,bigLabels:m,smallLabels:y,branchLabels:v,measuredWidth:h,measuredHeight:b}}function Yo(e=[],t){const n=[],r=(i,a=void 0)=>({x:0,y:0,name:i.name,id:i.id,stage:i,seqContainerName:a,isPlaceholder:!1,key:"n_"+i.id}),o=(i,a)=>{const c=!a&&gt(i)?i.children:[i],l={topStage:i,rows:[],centerX:0,startX:0,hasBranchLabels:!1};for(const p of c){const u=[];if(!t&&!a&&gt(p)?(l.hasBranchLabels=!0,Bt(p,(m,y,v)=>u.push(r(y,m.name)))):u.push(r(p)),l.rows.push(u),t)break}n.push(l)};for(const i of e){const a={...i,children:[i]};Bt(a,(c,l,p)=>o(l,p))}return n}function gt(e){return!!(e.children&&e.children.length)}function Bt(e,t){if(gt(e))for(const n of e.children){if(n.type==="PIPELINE_START")continue;const r=gt(n)&&n.children[0].type!=="PARALLEL";t(e,n,r),r&&Bt(n,t)}}function Ko(e,{nodeSpacingH:t,parallelSpacingH:n,nodeSpacingV:r,ypStart:o}){let i=t/2,a;for(const c of e){const l=c.rows[0][0];let p=o;a&&(a.isPlaceholder||l.isPlaceholder?l.key==="counter-node"?i+=t:i+=Math.floor(t*.7):i+=t);let u=0;for(const v of c.rows)u=Math.max(u,v.length);const m=i;c.hasBranchLabels&&(i+=ot);let y=i;for(const v of c.rows){let S=i;S+=Math.round((u-v.length)*n*.5);for(const h of v)y=Math.max(y,S),h.x=S,h.y=p,S+=n;p+=r}c.centerX=Math.round((m+y)/2),c.startX=m,i=y,a=l}}function Jo(e,t){const n=[];if(t)return[];for(const r of e){const o=r.rows[0][0],i=r.topStage,a=i?i.name:o.name,c="l_b_"+o.key;let l=r.centerX;r.hasBranchLabels&&(l+=Math.floor(ot/2)),n.push({x:l,y:o.y,node:o,stage:i,text:a,key:c})}return n}function Qo(e,t){const n=[];if(t)return n;for(const r of e)for(const o of r.rows)for(const i of o){if(i.isPlaceholder||i.stage===r.topStage)continue;const a={x:i.x,y:i.y,text:i.name,key:"l_s_"+i.key,node:i};i.isPlaceholder||(a.stage=i.stage),n.push(a)}return n}function Zo(e,t){const n=[];if(t)return n;let r=0;for(const o of e)if(o.hasBranchLabels)for(const i of o.rows){const a=i[0];!a.isPlaceholder&&a.seqContainerName&&n.push({x:o.startX,y:a.y,key:`branchLabel-${++r}`,node:a,text:a.seqContainerName})}return n}function ei(e){const t=[];let n=[],r=[];for(const o of e){if(o.topStage&&o.topStage.state==="skipped"){r.push(o.rows[0][0]);continue}n.length&&t.push({sourceNodes:n,destinationNodes:o.rows.map(i=>i[0]),skippedNodes:r,hasBranchLabels:o.hasBranchLabels});for(const i of o.rows)for(let a=0;a<i.length-1;a++)t.push({sourceNodes:[i[a]],destinationNodes:[i[a+1]],skippedNodes:[],hasBranchLabels:!1});n=o.rows.map(i=>i[i.length-1]),r=[]}return t}const be=3.5;function Je(e,t){return"c_"+e.key+"_to_"+t.key}class ti extends B.Component{renderCompositeConnection(t,n){const{sourceNodes:r,destinationNodes:o,skippedNodes:i,hasBranchLabels:a}=t;i.length===0?this.renderBasicConnections(r,o,n,a):this.renderSkippingConnections(r,o,i,n,a)}renderBasicConnections(t,n,r,o){const{connectorStrokeWidth:i,nodeSpacingH:a}=this.props.layout,c=a/2,l={className:"PWGx-pipeline-connector",strokeWidth:i};if(this.renderHorizontalConnection(t[0],n[0],l,r),t.length===1&&n.length===1)return;let p=t[0].x,u=n[0].x;for(let v=1;v<t.length;v++)p=Math.max(p,t[v].x);for(let v=1;v<n.length;v++)u=Math.min(u,n[v].x);const m=Math.round(p+c);for(const v of t.slice(1))this.renderBasicCurvedConnection(v,n[0],m,r);let y=Math.round(u-c);o&&(y-=ot);for(const v of n.slice(1))this.renderBasicCurvedConnection(t[0],v,y,r)}renderSkippingConnections(t,n,r,o,i){const{connectorStrokeWidth:a,nodeRadius:c,terminalRadius:l,curveRadius:p,nodeSpacingV:u,nodeSpacingH:m}=this.props.layout,y=m/2,v={className:"PWGx-pipeline-connector",strokeWidth:a},S={className:"PWGx-pipeline-connector-skipped",strokeWidth:a},h=r[r.length-1];let b,w;b=t[0];for(w of r)this.renderHorizontalConnection(b,w,S,o),b=w;this.renderHorizontalConnection(b,n[0],S,o);let A=t[0].x,C=n[0].x;for(let G=1;G<t.length;G++)A=Math.max(A,t[G].x);for(let G=1;G<n.length;G++)C=Math.min(C,n[G].x);b=t[0],w=r[0];for(b of t.slice(1)){const G=Math.round(A+y),Ee=b.isPlaceholder?l:c,ge=Je(b,w),Me=b.x+Ee-be/2,Ie=b.y,qe=G,Ye=w.y,wt=`M ${Me} ${Ie}`+this.svgBranchCurve(Me,Ie,qe,Ye,G,p);o.push(B.createElement("path",{...v,key:ge,d:wt,fill:"none"}))}b=h;let s=Math.round(C-y);i&&(s-=ot);for(w of n.slice(1)){const G=w.isPlaceholder?l:c,Ee=Je(b,w),ge=s,Me=b.y,Ie=w.x-G+be/2,qe=w.y,Ye=`M ${ge} ${Me}`+this.svgBranchCurve(ge,Me,Ie,qe,s,p);o.push(B.createElement("path",{...v,key:Ee,d:Ye,fill:"none"}))}b=t[0],w=n[0];const L=b.isPlaceholder?l:c,g=w.isPlaceholder?l:c,P=Je(b,w),D=u*.5,T=p*1.54,M=D*.257,x=D*.2,k=Math.round(D*.7071),R=b.x+L-be/2,W=b.y,E=Math.round(r[0].x-y),U=W,V=E+T,H=U,_=r[0].x,I=W+D,de=_-M,Q=I,re=r[0].x-k,Y=r[0].y+k,K=re-x,oe=Y-x,we=re+x,ie=Y+x,ve=h.x,ae=I,Oe=ve+M,Re=ae,Se=Math.round(h.x+y),Ce=w.y,We=Se-T,Le=Ce,he=h.x+k,ke=h.y+k,Ne=he-x,se=ke+x,le=he+x,Te=ke-x,me=w.x-g+be/2,Ae=w.y,He=`M ${R} ${W}L ${E} ${U}C ${V} ${H} ${K} ${oe} ${re} ${Y}C ${we} ${ie} ${de} ${Q} ${_} ${I}L ${ve} ${ae}C ${Oe} ${Re} ${Ne} ${se} ${he} ${ke}C ${le} ${Te} ${We} ${Le} ${Se} ${Ce}L ${me} ${Ae}`;o.push(B.createElement("path",{...v,key:P,d:He,fill:"none"}))}renderHorizontalConnection(t,n,r,o){const{nodeRadius:i,terminalRadius:a}=this.props.layout,c=t.isPlaceholder?a:i,l=n.isPlaceholder?a:i,p=Je(t,n),u=t.x+c-be/2,m=n.x-l+be/2,y=t.y;o.push(B.createElement("line",{...r,key:p,x1:u,y1:y,x2:m,y2:y}))}renderBasicCurvedConnection(t,n,r,o){const{nodeRadius:i,terminalRadius:a,curveRadius:c,connectorStrokeWidth:l}=this.props.layout,p=t.isPlaceholder?a:i,u=n.isPlaceholder?a:i,m=Je(t,n),y={x:t.x+p-be/2,y:t.y},v={x:n.x-u+be/2,y:n.y},S={className:"PWGx-pipeline-connector",strokeWidth:l},h=`M ${y.x} ${y.y}`+this.svgBranchCurve(y.x,y.y,v.x,v.y,r,c);o.push(B.createElement("path",{...S,key:m,d:h,fill:"none"}))}svgBranchCurve(t,n,r,o,i,a){const c=Math.sign(o-n),l=i-a-t+a*c,p=r-a-i-a*c,u=o-n-2*a*c,m=c*a;return` l ${l} 0 c ${a} 0 ${a} ${m} ${a} ${m} l 0 ${u} c 0 ${m} ${a} ${m} ${a} ${m} l ${p} 0`}render(){const{connections:t}=this.props,n=[];return t.forEach(r=>{this.renderCompositeConnection(r,n)}),d.jsx(d.Fragment,{children:n})}}function ni(e){return e.startsWith("Matrix -")?e.replace("Matrix - ","").split(",").map(t=>{const n=t.split("=");return{key:n[0].trim(),value:n[1].trim().replace(/'/g,"")}}):e}function ri(e){const t=ni(e.content);if(typeof t=="string")return d.jsx(d.Fragment,{children:d.jsx(mt,{content:t,interactive:!0,followCursor:!0,children:e.children})});const n=d.jsx("table",{children:t.map((r,o)=>d.jsxs("tr",{children:[d.jsx("td",{children:r.key}),d.jsx("td",{children:r.value})]},o))});return d.jsx(d.Fragment,{children:d.jsx(mt,{content:n,interactive:!0,appendTo:document.body,children:e.children})})}function Zn({children:e,style:t={},className:n=""}){const r={display:"-webkit-box",overflow:"hidden",WebkitLineClamp:2,WebkitBoxOrient:"vertical",...t};return d.jsx("div",{style:r,className:`TruncatingLabel ${n}`.trim(),title:e,children:e})}function oi({details:e,layout:t,measuredHeight:n,isSelected:r}){var b;const{nodeSpacingH:o,labelOffsetV:i,connectorStrokeWidth:a,ypStart:c}=t,l=o-a*2,p=c-i,u=Math.floor(l/-2),m={position:"absolute",width:l,maxHeight:p+"px",textAlign:"center",marginLeft:u},y=e.x,v=n-e.y+i,S={...m,bottom:v+"px",left:y+"px"},h=["PWGx-pipeline-big-label"];return r&&h.push("PWGx-pipeline-big-label--selected"),e.stage&&e.stage.synthetic&&h.push("pgv-graph-node--synthetic"),(b=e.stage)!=null&&b.skeleton&&h.push("pgv-graph-node--skeleton"),e.node.id<0&&h.push("pgv-graph-node--skeleton"),d.jsx(Zn,{className:h.join(" "),style:S,children:e.text},e.key)}function ii({details:e,layout:t,isSelected:n}){const{nodeSpacingH:r,nodeSpacingV:o,curveRadius:i,connectorStrokeWidth:a,nodeRadius:c,smallLabelOffsetV:l}=t,p=Math.floor(r-2*i-2*a),u=Math.floor(o-l-c-be),m=Math.floor(p*-.5),y=e.x+m,S={top:e.y+l,left:y,position:"absolute",width:p,maxHeight:u,textAlign:"center"},h=["PWGx-pipeline-small-label"];return e.stage&&n&&h.push("PWGx-pipeline-small-label--selected"),d.jsx(Zn,{className:h.join(" "),style:S,children:e.text},e.key)}function ai({details:e,layout:t}){const{nodeRadius:n}=t,r=e.text,o=e.y,i=e.x-Math.floor(n*2),a=1.35,c={top:o,left:i,lineHeight:a,marginTop:`-${a/2}em`,position:"absolute",maxWidth:ot,overflow:"hidden",textOverflow:"ellipsis",background:"var(--card-background)",fontSize:"0.8125rem",fontWeight:"var(--font-bold-weight)",padding:"0 5px",whiteSpace:"nowrap"};return d.jsx(ri,{content:r,children:d.jsx("div",{style:c,children:r},e.key)})}function xn({status:e,percentage:t,skeleton:n}){const o=e==="running"?50:0,i=(512-o)/2.2,a=2*Math.PI*i,c=a-(t??100)/100*a;return d.jsxs("svg",{viewBox:"0 0 512 512",className:"pgv-status-icon "+er(e,n),opacity:n?.5:1,children:[d.jsx("circle",{cx:512/2,cy:512/2,r:i,fill:"oklch(from var(--color) l c h / 0.15)",style:{transition:"var(--standard-transition)"}}),d.jsx("circle",{cx:512/2,cy:512/2,r:i-10,fill:"none",stroke:"var(--color)",strokeWidth:20,strokeOpacity:.15}),d.jsx("circle",{cx:512/2,cy:512/2,r:i,fill:"none",stroke:"var(--color)",strokeWidth:o,strokeLinecap:"round",strokeDasharray:a,strokeDashoffset:c,style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"var(--standard-transition)"}}),d.jsx(ye,{currentStatus:e,status:F.running,children:d.jsx("circle",{cx:"256",cy:"256",r:"40",fill:"var(--color)",className:e==="running"?"pgv-scale":""})}),d.jsx(ye,{currentStatus:e,status:F.success,children:d.jsx("path",{d:"M336 189L224 323L176 269.4",fill:"transparent",stroke:"var(--color)",strokeWidth:32,strokeLinecap:"round",strokeLinejoin:"round"})}),d.jsx(ye,{currentStatus:e,status:F.failure,children:d.jsx("path",{fill:"none",stroke:"var(--color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32,d:"M320 320L192 192M192 320l128-128"})}),d.jsx(ye,{currentStatus:e,status:F.aborted,children:d.jsx("path",{fill:"none",stroke:"var(--color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32,d:"M192 320l128-128"})}),d.jsxs(ye,{currentStatus:e,status:F.unstable,children:[d.jsx("path",{d:"M250.26 166.05L256 288l5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 6z",fill:"none",stroke:"var(--color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32}),d.jsx("ellipse",{cx:"256",cy:"350",rx:"26",ry:"26",fill:"var(--color)"})]}),d.jsx(ye,{currentStatus:e,status:F.skipped,children:d.jsxs("g",{transform:"scale(0.8)",children:[d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"36",d:"M216 352l96-96-96-96",transform:"translate(-55, 0)"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"36",d:"M216 352l96-96-96-96",transform:"translate(75, 0)"})]})}),d.jsx(ye,{currentStatus:e,status:F.paused,children:d.jsx("path",{fill:"none",stroke:"var(--color)",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:32,d:"M208 192v128M304 192v128"})}),d.jsxs(ye,{currentStatus:e,status:F.not_built,children:[d.jsx("circle",{cx:"256",cy:"256",r:"30",fill:"var(--color)"}),d.jsx("circle",{cx:"352",cy:"256",r:"30",fill:"var(--color)"}),d.jsx("circle",{cx:"160",cy:"256",r:"30",fill:"var(--color)"})]}),d.jsxs(ye,{currentStatus:e,status:F.unknown,children:[d.jsx("path",{d:"M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296",fill:"none",stroke:"var(--color)",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"28"}),d.jsx("circle",{cx:"250",cy:"348",r:"20",fill:"var(--color)"})]})]})}function ye({currentStatus:e,status:t,children:n}){return d.jsx("g",{style:{transform:e!==t?"scale(0)":"scale(1)",opacity:e!==t?0:1},children:n})}function er(e,t){if(t)return"jenkins-!-skipped-color";switch(e){case"success":return"jenkins-!-success-color";case"failure":return"jenkins-!-error-color";case"running":return"jenkins-!-accent-color";case"unstable":return"jenkins-!-warning-color";default:return"jenkins-!-skipped-color"}}const Rt=1e3,Wt=60*Rt,Nt=60*Wt,yt=24*Nt,wn=30*yt,On=365*yt,si="Util.year",Sn="Util.month",kn="Util.hour",En="Util.day",jn="Util.minute",pt="Util.second",ci="Util.millisecond",li="startedAgo";function Qe(e,t,n,r){return e<10?`${t} ${r}`:t}function qt(e,t){const n=Math.floor(e/On);e%=On;const r=Math.floor(e/wn);e%=wn;const o=Math.floor(e/yt);e%=yt;const i=Math.floor(e/Nt);e%=Nt;const a=Math.floor(e/Wt);e%=Wt;const c=Math.floor(e/Rt),l=e%Rt;return n>0?Qe(n,t.format(si,{0:n}),r,t.format(Sn,{0:r})):r>0?Qe(r,t.format(Sn,{0:r}),o,t.format(En,{0:o})):o>0?Qe(o,t.format(En,{0:o}),i,t.format(kn,{0:i})):i>0?Qe(i,t.format(kn,{0:i}),a,t.format(jn,{0:a})):a>0?Qe(a,t.format(jn,{0:a}),c,t.format(pt,{0:c})):c>=10?t.format(pt,{0:c}):c>=1?t.format(pt,{0:c+Math.floor(l/100)/10}):l>=100?t.format(pt,{0:Math.floor(l/10)/100}):t.format(ci,{0:l})}function Cn({ms:e}){const t=B.useContext(Ht);return d.jsx(d.Fragment,{children:qt(e,t)})}function mi({since:e}){const t=B.useContext(Ht);return d.jsx(d.Fragment,{children:`Queued ${qt(e,t)}`})}function gi({since:e}){const t=B.useContext(Ht);return e===0?d.jsx(d.Fragment,{}):d.jsx(d.Fragment,{children:t.format(li,{0:qt(Math.abs(e-Date.now()),t)})})}function yi(e){return e===0?"":new Date(e).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}function bi(e){return e===0?"":new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(new Date(e))}function ui({node:e,collapsed:t,onStageSelect:n,isSelected:r}){var y;const o=e.key;if(e.isPlaceholder){if(e.type==="counter"){const v=e,S=d.jsx("ol",{className:"pgv-node__counter-tooltip",children:v.stages.map(h=>d.jsx("li",{children:d.jsxs("a",{className:"jenkins-button jenkins-button--tertiary",href:document.head.dataset.rooturl+h.url,children:[d.jsx(xn,{status:h.state,percentage:h.completePercent,skeleton:h.skeleton}),h.name,d.jsx("span",{style:{color:"var(--text-color-secondary)"},children:d.jsx(Cn,{ms:h.totalDurationMillis})})]})},h.id))});return d.jsx(mt,{content:S,interactive:!0,appendTo:document.body,children:d.jsx("div",{style:{position:"absolute",top:e.y,left:e.x,translate:"-50% -50%"},className:"PWGx-pipeline-node",children:d.jsx("span",{className:"PWGx-pipeline-node-counter",children:v.stages.length})},o)})}return d.jsx("div",{style:{position:"absolute",top:e.y,left:e.x,translate:"-50% -50%"},className:"PWGx-pipeline-node",children:d.jsx("span",{className:"PWGx-pipeline-node-terminal"})},o)}const i=[],{title:a,state:c,url:l}=e.stage??{};i.push(d.jsx(xn,{status:e.stage.state,percentage:e.stage.completePercent,skeleton:e.stage.skeleton},`icon-${e.id}`));const p=!e.isPlaceholder&&((y=e.stage)==null?void 0:y.state)!=="skipped"&&!e.stage.skeleton,u={key:o,style:{position:"absolute",top:e.y,left:e.x,translate:"-50% -50%"},className:Xo("PWGx-pipeline-node","PWGx-pipeline-node--"+c,er(e.stage.state,e.stage.skeleton),{"PWGx-pipeline-node--selected":r})};let m;return t&&(m=d.jsxs("div",{className:"pgv-node-tooltip",children:[d.jsx("div",{children:a}),d.jsx("div",{children:d.jsx(Cn,{ms:e.stage.totalDurationMillis})})]})),d.jsx(mt,{content:m,children:d.jsxs("div",{...u,children:[i,p&&d.jsx("a",{href:document.head.dataset.rooturl+l,onClick:v=>{n&&(v.preventDefault(),n(String(e.stage.id)))},children:d.jsx("span",{className:"jenkins-visually-hidden",children:a})})]})})}function fi({layout:e,nodeColumns:t,isStageSelected:n}){const{nodeRadius:r,connectorStrokeWidth:o}=e,i=Math.ceil(r+.5*o+1),a=(()=>{for(const l of t)for(const p of l.rows)for(const u of p)if(!u.isPlaceholder&&n(u.stage))return u})();if(!a)return null;const c=`translate(${a.x} ${a.y})`;return d.jsx("g",{className:"PWGx-pipeline-selection-highlight",transform:c,children:d.jsx("circle",{r:i,strokeWidth:o})},"selection-highlight")}function xi(e){const{stages:t=[],layout:n,selectedStage:r,collapsed:o}=e,[i,a]=B.useState([]),[c,l]=B.useState([]),[p,u]=B.useState([]),[m,y]=B.useState([]),[v,S]=B.useState([]),[h,b]=B.useState(0),[w,A]=B.useState(0),[C,s]=B.useState({...Jt,...n}),[L,g]=B.useState(r);B.useEffect(()=>{P(t)},[t]),B.useEffect(()=>{let x=!1,k=C;n!==e.layout&&(k={...Jt,...n},s(k),x=!0),r!==L&&g(r),t!==e.stages&&(x=!0),x&&P(t)},[n,r,t]);const P=(x=[])=>{const k=qo(x,C,o??!1);a(k.nodeColumns),l(k.connections),u(k.bigLabels),y(k.smallLabels),S(k.branchLabels),b(k.measuredWidth),A(k.measuredHeight)},D=x=>L&&x&&L.id===x.id||!1,T=i.flatMap(x=>{var R;const k=((R=x.topStage)==null?void 0:R.state)??F.unknown;return x.rows.flatMap(W=>W.map(E=>(x.topStage&&"stage"in E&&E.stage&&Array.isArray(x.topStage.children)&&x.topStage.children.includes(E.stage)&&o&&(E.stage.state=k),E)))}),M={position:"relative",overflow:"visible"};return d.jsx("div",{className:"PWGx-PipelineGraph-container",children:d.jsxs("div",{style:M,className:"PWGx-PipelineGraph",children:[d.jsxs("svg",{width:h,height:w,children:[d.jsx(ti,{connections:c,layout:C}),d.jsx(fi,{layout:C,nodeColumns:i,isStageSelected:D})]}),T.map(x=>d.jsx(ui,{node:x,collapsed:o,isSelected:x.isPlaceholder?!1:(r==null?void 0:r.id)===x.stage.id,onStageSelect:e.onStageSelect},x.id)),p.map(x=>{var k;return d.jsx(oi,{details:x,layout:C,measuredHeight:w,isSelected:(r==null?void 0:r.id)===((k=x.stage)==null?void 0:k.id)},x.key)}),m.map(x=>{var k;return d.jsx(ii,{details:x,layout:C,isSelected:(r==null?void 0:r.id)===((k=x.stage)==null?void 0:k.id)},x.key)}),v.map(x=>d.jsx(ai,{details:x,layout:C},x.key))]})})}export{xi as P,xn as S,Cn as T,mt as a,gi as b,Xo as c,mi as d,bi as e,er as f,zo as i,hi as l,Yn as r,yi as t,vi as u};
//# sourceMappingURL=PipelineGraph-BZ3F8_oD.js.map
